---
title: "ä¼ä¸šçº§ CI Pipeline è®¾è®¡ï¼šå¤§è§„æ¨¡æ„å»ºå¯é çš„è‡ªåŠ¨åŒ–"
date: 2020-08-20
lang: zh-CN
tags: [DevOps, Enterprise, Automation]
categories: [Development]
excerpt: "å­¦ä¹ å¦‚ä½•ä¸ºä¼ä¸šç¯å¢ƒè®¾è®¡å¼ºå¥çš„ CI pipelineã€‚æ¢ç´¢å¯æ‰©å±•æ€§ã€å®‰å…¨æ€§å’ŒæŒç»­é›†æˆå·¥ä½œæµç¨‹å¯é æ€§çš„æœ€ä½³å®è·µã€‚"
thumbnail: /assets/devops/thumbnail.png
---

ä»æ‰‹åŠ¨éƒ¨ç½²è½¬å‘è‡ªåŠ¨åŒ–æŒç»­é›†æˆï¼Œå·²ç»å½»åº•æ”¹å˜äº†ä¼ä¸šäº¤ä»˜è½¯ä»¶çš„æ–¹å¼ã€‚ç„¶è€Œï¼Œè®¾è®¡èƒ½åœ¨ä¼ä¸šè§„æ¨¡ä¸‹å¯é è¿ä½œçš„ CI pipeline é¢ä¸´ç‹¬ç‰¹æŒ‘æˆ˜â€”â€”ä»ç®¡ç†å¤æ‚çš„ä¾èµ–å…³ç³»åˆ°ç¡®ä¿æ•°ç™¾ä¸ªå¾®æœåŠ¡çš„å®‰å…¨åˆè§„æ€§ã€‚

æœ¬æŒ‡å—æ¢è®¨æ„å»ºèƒ½å¤Ÿåº”å¯¹ä¼ä¸šéœ€æ±‚çš„ CI pipeline çš„åŸåˆ™å’Œå®è·µï¼ŒåŒæ—¶ä¿æŒé€Ÿåº¦ã€å¯é æ€§å’Œå®‰å…¨æ€§ã€‚

## ç†è§£ä¼ä¸šçº§ CI éœ€æ±‚

ä¼ä¸šçº§ CI pipeline ä¸åˆåˆ›å…¬å¸æˆ–å°å›¢é˜Ÿçš„å·¥ä½œæµç¨‹æœ‰æ ¹æœ¬æ€§çš„å·®å¼‚ã€‚è§„æ¨¡ã€å¤æ‚æ€§å’Œç›‘ç®¡è¦æ±‚éœ€è¦ä¸åŒçš„æ–¹æ³•ã€‚

**è§„æ¨¡è€ƒé‡**ï¼šä¼ä¸šç¯å¢ƒé€šå¸¸æ¶‰åŠæ•°ç™¾ä¸ªå­˜å‚¨åº“ã€æ¯å¤©æ•°åƒæ¬¡æ„å»ºï¼Œä»¥åŠåˆ†æ•£åœ¨ä¸åŒæ—¶åŒºçš„å›¢é˜Ÿã€‚ä½ çš„ pipeline å¿…é¡»å¤„ç†è¿™äº›é‡è€Œä¸æˆä¸ºç“¶é¢ˆã€‚

**å®‰å…¨ä¸åˆè§„**ï¼šé‡‘èæœåŠ¡ã€åŒ»ç–—ä¿å¥å’Œæ”¿åºœéƒ¨é—¨éœ€è¦åœ¨æ¯ä¸ªé˜¶æ®µè¿›è¡Œå®¡è®¡è¿½è¸ªã€è®¿é—®æ§åˆ¶å’Œåˆè§„éªŒè¯ã€‚CI pipeline å¿…é¡»è‡ªåŠ¨æ‰§è¡Œè¿™äº›è¦æ±‚ã€‚

**å¤šå›¢é˜Ÿåè°ƒ**ï¼šä¸åŒå›¢é˜Ÿåœ¨ç›¸äº’è¿æ¥çš„æœåŠ¡ä¸Šå·¥ä½œã€‚ä½ çš„ pipeline éœ€è¦æ£€æµ‹ç ´åæ€§å˜æ›´ã€åè°ƒéƒ¨ç½²ï¼Œå¹¶æä¾›è·¨å›¢é˜Ÿè¾¹ç•Œçš„å¯è§æ€§ã€‚

**é—ç•™ç³»ç»Ÿé›†æˆ**ï¼šä¼ä¸šå¾ˆå°‘ä»é›¶å¼€å§‹ã€‚ä½ çš„ CI ç³»ç»Ÿå¿…é¡»ä¸ç°æœ‰å·¥å…·ã€æ•°æ®åº“å’Œéƒ¨ç½²æµç¨‹é›†æˆï¼ŒåŒæ—¶é€æ­¥ç°ä»£åŒ–åŸºç¡€è®¾æ–½ã€‚

!!!anote "ğŸ¯ ä¼ä¸šçº§ vs åˆåˆ›å…¬å¸ CI"
    **åˆåˆ›å…¬å¸ CI**ï¼šå¿«é€Ÿè¿­ä»£ã€æœ€å°‘æµç¨‹ã€å¯æ¥å—ç ´åæ€§å˜æ›´
    
    **ä¼ä¸šçº§ CI**ï¼šå—æ§å˜æ›´ã€å¹¿æ³›éªŒè¯ã€å¯¹ç”Ÿäº§äº‹æ•…é›¶å®¹å¿
    
    å·®å¼‚ä¸ä»…åœ¨äºè§„æ¨¡â€”â€”è€Œæ˜¯ç†å¿µã€‚ä¼ä¸šçº§ CI ä¼˜å…ˆè€ƒè™‘ç¨³å®šæ€§å’Œåˆè§„æ€§ï¼Œè€Œéçº¯ç²¹çš„é€Ÿåº¦ã€‚

## æ ¸å¿ƒ Pipeline æ¶æ„

è®¾è®¡è‰¯å¥½çš„ä¼ä¸šçº§ CI pipeline éµå¾ªå¹³è¡¡é€Ÿåº¦ä¸å½»åº•æ€§çš„ç»“æ„åŒ–æµç¨‹ã€‚

```mermaid
graph LR
    A([ğŸ“ ä»£ç æäº¤]) --> B([ğŸ” é™æ€åˆ†æ])
    B --> C([ğŸ—ï¸ æ„å»º])
    C --> D([ğŸ§ª å•å…ƒæµ‹è¯•])
    D --> E([ğŸ“¦ æ‰“åŒ…])
    E --> F([ğŸ” å®‰å…¨æ‰«æ])
    F --> G([ğŸš€ éƒ¨ç½²åˆ°é¢„å‘ç¯å¢ƒ])
    G --> H([âœ… é›†æˆæµ‹è¯•])
    H --> I([ğŸ‘¤ äººå·¥å®¡æ ¸])
    I --> J([ğŸŒ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²])
    
    style A fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style F fill:#ffebee,stroke:#c62828,stroke-width:2px
    style I fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style J fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
```

### é˜¶æ®µ 1ï¼šæºä»£ç æ§åˆ¶é›†æˆ

æ¯ä¸ª pipeline éƒ½ä»æºä»£ç æ§åˆ¶å¼€å§‹ã€‚ä¼ä¸šçº§ pipeline å¿…é¡»æ”¯æŒï¼š

- **åˆ†æ”¯ä¿æŠ¤**ï¼šå¼ºåˆ¶æ‰§è¡Œä»£ç å®¡æŸ¥è¦æ±‚ï¼Œé˜²æ­¢ç›´æ¥æäº¤åˆ°ä¸»åˆ†æ”¯
- **Webhook å¯é æ€§**ï¼šä¼˜é›…åœ°å¤„ç† webhook å¤±è´¥å¹¶æä¾›é‡è¯•æœºåˆ¶
- **Monorepo æ”¯æŒ**ï¼šæ£€æµ‹å“ªäº›æœåŠ¡å‘ç”Ÿå˜æ›´å¹¶ä»…è§¦å‘ç›¸å…³æ„å»º

### é˜¶æ®µ 2ï¼šé™æ€åˆ†æä¸ Linting

åœ¨ç¼–è¯‘å‰æ•è·é—®é¢˜ï¼š

- **ä»£ç è´¨é‡é—¨ç¦**ï¼šå¼ºåˆ¶æ‰§è¡Œå¤æ‚åº¦é˜ˆå€¼ã€ä»£ç è¦†ç›–ç‡æœ€ä½æ ‡å‡†
- **å®‰å…¨æ‰«æ**ï¼šæ£€æµ‹ç¡¬ç¼–ç çš„æœºå¯†ä¿¡æ¯ã€æœ‰æ¼æ´çš„ä¾èµ–é¡¹
- **è®¸å¯åˆè§„**ï¼šéªŒè¯æ‰€æœ‰ä¾èµ–é¡¹ç¬¦åˆä¼ä¸šè®¸å¯æ”¿ç­–

### é˜¶æ®µ 3ï¼šæ„å»ºä¸ç¼–è¯‘

æ„å»ºé˜¶æ®µå¿…é¡»ï¼š

- **å¯é‡ç°**ï¼šç›¸åŒçš„è¾“å…¥æ€»æ˜¯äº§ç”Ÿç›¸åŒçš„è¾“å‡º
- **ç¼“å­˜**ï¼šé‡ç”¨å…ˆå‰æ„å»ºçš„äº§ç‰©ä»¥å‡å°‘æ—¶é—´
- **éš”ç¦»**ï¼šæ¯æ¬¡æ„å»ºåœ¨å¹²å‡€çš„ç¯å¢ƒä¸­æ‰§è¡Œä»¥é˜²æ­¢æ±¡æŸ“

### é˜¶æ®µ 4ï¼šæµ‹è¯•é‡‘å­—å¡”

å®æ–½å…¨é¢çš„æµ‹è¯•ç­–ç•¥ï¼š

**å•å…ƒæµ‹è¯•**ï¼šå¿«é€Ÿã€éš”ç¦»çš„æµ‹è¯•åœ¨æ¯æ¬¡æäº¤æ—¶æ‰§è¡Œã€‚è¿™äº›åº”è¯¥åœ¨å‡ åˆ†é’Ÿå†…å®Œæˆå¹¶æä¾›å³æ—¶åé¦ˆã€‚

**é›†æˆæµ‹è¯•**ï¼šéªŒè¯ç»„ä»¶ååŒå·¥ä½œã€‚é’ˆå¯¹å…·æœ‰çœŸå®æ•°æ®çš„é¢„å‘ç¯å¢ƒæ‰§è¡Œã€‚

**ç«¯åˆ°ç«¯æµ‹è¯•**ï¼šéªŒè¯å…³é”®ç”¨æˆ·æ—…ç¨‹ã€‚è¿™äº›è¾ƒæ…¢ä½†èƒ½æ•è·å•å…ƒæµ‹è¯•é—æ¼çš„é—®é¢˜ã€‚

**æ€§èƒ½æµ‹è¯•**ï¼šç¡®ä¿å˜æ›´ä¸ä¼šé™ä½ç³»ç»Ÿæ€§èƒ½ã€‚åœ¨ä»£è¡¨æ€§å·¥ä½œè´Ÿè½½ä¸Šæ‰§è¡Œã€‚

```mermaid
graph TB
    A([ğŸ”º æµ‹è¯•é‡‘å­—å¡”])
    A --> B([E2E æµ‹è¯•<br/>æ…¢é€Ÿã€å…¨é¢])
    B --> C([é›†æˆæµ‹è¯•<br/>ä¸­é€Ÿ])
    C --> D([å•å…ƒæµ‹è¯•<br/>å¿«é€Ÿã€èšç„¦])
    
    style B fill:#ffebee,stroke:#c62828,stroke-width:2px
    style C fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style D fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
```

### é˜¶æ®µ 5ï¼šäº§ç‰©ç®¡ç†

æ‰“åŒ…å’Œç‰ˆæœ¬åŒ–ä½ çš„æ„å»ºï¼š

- **è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶**ï¼šæ ¹æ®æäº¤æ¶ˆæ¯è‡ªåŠ¨é€’å¢ç‰ˆæœ¬
- **äº§ç‰©å­˜å‚¨åº“**ï¼šå°†æ„å»ºå­˜å‚¨åœ¨é›†ä¸­å¼å­˜å‚¨åº“ï¼ˆArtifactoryã€Nexusï¼‰
- **ä¸å¯å˜äº§ç‰©**ï¼šåˆ›å»ºåæ°¸ä¸ä¿®æ”¹äº§ç‰©ï¼›æ”¹ä¸ºåˆ›å»ºæ–°ç‰ˆæœ¬

### é˜¶æ®µ 6ï¼šå®‰å…¨éªŒè¯

å®‰å…¨ä¸èƒ½æ˜¯äº‹åæƒ³æ³•ï¼š

- **å®¹å™¨æ‰«æ**ï¼šæ£€æŸ¥ Docker é•œåƒæ˜¯å¦æœ‰å·²çŸ¥æ¼æ´
- **ä¾èµ–é¡¹åˆ†æ**ï¼šéªŒè¯ç¬¬ä¸‰æ–¹åº“æ˜¯æœ€æ–°ä¸”å®‰å…¨çš„
- **åˆè§„æ£€æŸ¥**ï¼šç¡®ä¿æ„å»ºç¬¦åˆç›‘ç®¡è¦æ±‚ï¼ˆGDPRã€HIPAAã€SOC2ï¼‰

### é˜¶æ®µ 7ï¼šéƒ¨ç½²é˜¶æ®µ

æ¸è¿›å¼éƒ¨ç½²é™ä½é£é™©ï¼š

**å¼€å‘ç¯å¢ƒ**ï¼šæ¯æ¬¡æäº¤è‡ªåŠ¨éƒ¨ç½²ã€‚å¼€å‘äººå‘˜å¯ä»¥ç«‹å³æµ‹è¯•å˜æ›´ã€‚

**é¢„å‘ç¯å¢ƒ**ï¼šé•œåƒç”Ÿäº§ç¯å¢ƒé…ç½®ã€‚é›†æˆå’Œ E2E æµ‹è¯•åœ¨æ­¤æ‰§è¡Œã€‚

**ç”Ÿäº§ç¯å¢ƒ**ï¼šéœ€è¦äººå·¥å®¡æ ¸ã€‚ä½¿ç”¨è“ç»¿æˆ–é‡‘ä¸é›€ç­–ç•¥éƒ¨ç½²ã€‚

## ä¼ä¸šçº§ CI æœ€ä½³å®è·µ

### 1. Pipeline å³ä»£ç 

åœ¨ç‰ˆæœ¬æ§åˆ¶æ–‡ä»¶ä¸­å®šä¹‰ pipelineï¼ˆJenkinsfileã€.gitlab-ci.ymlã€GitHub Actionsï¼‰ã€‚è¿™æä¾›ï¼š

- **ç‰ˆæœ¬å†å²**ï¼šè·Ÿè¸ª pipeline å˜æ›´ä¸ä»£ç å˜æ›´
- **ä»£ç å®¡æŸ¥**ï¼špipeline ä¿®æ”¹ç»è¿‡ä¸ä»£ç ç›¸åŒçš„å®¡æŸ¥æµç¨‹
- **å¯é‡ç”¨æ€§**ï¼šè·¨å›¢é˜Ÿå…±äº« pipeline æ¨¡æ¿

```yaml
# ç¤ºä¾‹ï¼šGitHub Actions å·¥ä½œæµç¨‹
name: Enterprise CI Pipeline

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Static Analysis
        run: npm run lint
      - name: Build
        run: npm run build
      - name: Unit Tests
        run: npm test
      - name: Security Scan
        run: npm audit
```

### 2. æ¨¡å—åŒ– Pipeline æ¨¡æ¿

åœ¨æ‹¥æœ‰æ•°åæˆ–æ•°ç™¾ä¸ªæœåŠ¡çš„ä¼ä¸šç¯å¢ƒä¸­ï¼Œç»´æŠ¤å•ç‹¬ pipeline å˜å¾—ä¸å¯æŒç»­ã€‚Pipeline æ¨¡æ¿é€šè¿‡å°†å¸¸è§æ¨¡å¼æå–åˆ°å¯é‡ç”¨æ¨¡å—æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

**æ¨¡æ¿å±‚æ¬¡ç»“æ„**ï¼š

```mermaid
graph TB
    A([ğŸ¯ åŸºç¡€æ¨¡æ¿<br/>æ‰€æœ‰é¡¹ç›®çš„å…±åŒé˜¶æ®µ]) --> B([â˜• Java æ¨¡æ¿<br/>Maven/Gradle ç‰¹å®š])
    A --> C([ğŸ Python æ¨¡æ¿<br/>pip/pytest ç‰¹å®š])
    A --> D([âš¡ Node.js æ¨¡æ¿<br/>npm/jest ç‰¹å®š])
    B --> E([ğŸ”§ å¾®æœåŠ¡ A<br/>è‡ªå®šä¹‰é…ç½®])
    C --> F([ğŸ”§ å¾®æœåŠ¡ B<br/>è‡ªå®šä¹‰é…ç½®])
    D --> G([ğŸ”§ å‰ç«¯åº”ç”¨<br/>è‡ªå®šä¹‰é…ç½®])
    
    style A fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
    style B fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style C fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style D fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style E fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style F fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style G fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
```

**åŸºç¡€æ¨¡æ¿ç¤ºä¾‹**ï¼ˆGitHub Actionsï¼‰ï¼š

```yaml
# .github/workflows/templates/base-pipeline.yml
name: Base CI Template

on:
  workflow_call:
    inputs:
      build_command:
        required: true
        type: string
      test_command:
        required: true
        type: string
      artifact_path:
        required: false
        type: string
        default: 'dist/'

jobs:
  ci:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      
      - name: Static Analysis
        uses: ./.github/actions/static-analysis
      
      - name: Build
        run: ${{ inputs.build_command }}
      
      - name: Test
        run: ${{ inputs.test_command }}
      
      - name: Security Scan
        uses: ./.github/actions/security-scan
      
      - name: Upload Artifacts
        uses: actions/upload-artifact@v2
        with:
          path: ${{ inputs.artifact_path }}
```

**æœåŠ¡ç‰¹å®š Pipeline**ï¼ˆä½¿ç”¨æ¨¡æ¿ï¼‰ï¼š

```yaml
# microservice-a/.github/workflows/ci.yml
name: Microservice A CI

on: [push, pull_request]

jobs:
  build:
    uses: ./.github/workflows/templates/base-pipeline.yml
    with:
      build_command: 'mvn clean package'
      test_command: 'mvn test'
      artifact_path: 'target/*.jar'
```

**åŸºäºæ¨¡æ¿çš„ Pipeline ä¼˜åŠ¿**ï¼š

- **ä¸€è‡´æ€§**ï¼šæ‰€æœ‰æœåŠ¡éµå¾ªç›¸åŒçš„è´¨é‡é—¨ç¦å’Œå®‰å…¨æ£€æŸ¥
- **å¯ç»´æŠ¤æ€§**ï¼šé€šè¿‡å˜æ›´ä¸€ä¸ªæ¨¡æ¿æ›´æ–° 100 ä¸ª pipeline
- **å…¥èŒ**ï¼šæ–°æœåŠ¡è‡ªåŠ¨ç»§æ‰¿æœ€ä½³å®è·µ
- **æ²»ç†**ï¼šé›†ä¸­æ‰§è¡Œç»„ç»‡æ ‡å‡†
- **å‡å°‘é‡å¤**ï¼šé€šç”¨é€»è¾‘å†™ä¸€æ¬¡ï¼Œåˆ°å¤„é‡ç”¨

**æ¨¡æ¿ç»„åˆæ¨¡å¼**ï¼š

**1. ç»§æ‰¿æ¨¡å¼**ï¼šæ¨¡æ¿æ‰©å±•åŸºç¡€æ¨¡æ¿ï¼Œæ·»åŠ è¯­è¨€ç‰¹å®šé€»è¾‘

```yaml
# Java æ¨¡æ¿æ‰©å±•åŸºç¡€æ¨¡æ¿
jobs:
  build:
    uses: ./.github/workflows/templates/base-pipeline.yml
    with:
      setup_command: 'setup-java@v2'
      build_command: 'mvn package'
```

**2. Mixin æ¨¡å¼**ï¼šç»„åˆå¤šä¸ªå¯é‡ç”¨ç»„ä»¶

```yaml
jobs:
  security:
    uses: ./.github/workflows/templates/security-mixin.yml
  
  compliance:
    uses: ./.github/workflows/templates/compliance-mixin.yml
  
  build:
    needs: [security, compliance]
    uses: ./.github/workflows/templates/build.yml
```

**3. è¦†ç›–æ¨¡å¼**ï¼šæœåŠ¡å¯ä»¥åœ¨éœ€è¦æ—¶è¦†ç›–ç‰¹å®šé˜¶æ®µ

```yaml
jobs:
  build:
    uses: ./.github/workflows/templates/base-pipeline.yml
    with:
      build_command: 'mvn package'
      # è¦†ç›–ï¼šæ­¤æœåŠ¡éœ€è¦å»¶é•¿æµ‹è¯•è¶…æ—¶
      test_timeout: 30
```

!!!tip "ğŸ“¦ æ¨¡æ¿åº“ç»„ç»‡"
    æŒ‰èŒƒå›´ç»„ç»‡æ¨¡æ¿ä»¥è·å¾—æ›´å¥½çš„å¯ç»´æŠ¤æ€§å’Œå¯å‘ç°æ€§ã€‚

**æ¨¡æ¿ç›®å½•ç»“æ„ï¼š**

```
.github/workflows/templates/
â”œâ”€â”€ base/
â”‚   â”œâ”€â”€ ci-pipeline.yml          # æ ¸å¿ƒ CI æµç¨‹
â”‚   â””â”€â”€ cd-pipeline.yml          # æ ¸å¿ƒ CD æµç¨‹
â”œâ”€â”€ languages/
â”‚   â”œâ”€â”€ java-pipeline.yml
â”‚   â”œâ”€â”€ python-pipeline.yml
â”‚   â””â”€â”€ nodejs-pipeline.yml
â”œâ”€â”€ mixins/
â”‚   â”œâ”€â”€ security-scan.yml
â”‚   â”œâ”€â”€ compliance-check.yml
â”‚   â””â”€â”€ performance-test.yml
â””â”€â”€ specialized/
    â”œâ”€â”€ microservice-pipeline.yml
    â””â”€â”€ frontend-pipeline.yml
```

**æ¨¡æ¿ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥**ï¼š

æ¨¡æ¿éšæ—¶é—´æ¼”è¿›ã€‚å¯¹å®ƒä»¬è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ä»¥é˜²æ­¢ç ´åæ€§å˜æ›´ï¼š

```yaml
# ä½¿ç”¨ç‰¹å®šæ¨¡æ¿ç‰ˆæœ¬
jobs:
  build:
    uses: ./.github/workflows/templates/base-pipeline@v2.1.0
```

**è¿ç§»è·¯å¾„**ï¼š
1. å‘å¸ƒæ–°æ¨¡æ¿ç‰ˆæœ¬ï¼ˆv2.1.0ï¼‰
2. æœåŠ¡æŒ‰è‡ªå·±çš„æ­¥è°ƒé€æ­¥è¿ç§»
3. è¿ç§»æœŸåå¼ƒç”¨æ—§ç‰ˆæœ¬
4. å®½é™æœŸåç§»é™¤å·²å¼ƒç”¨çš„æ¨¡æ¿

### å¤šå›¢é˜Ÿæ¨¡æ¿å¯é‡ç”¨æ€§

å½“ç»„ç»‡ä¸­çš„å¤šä¸ªå›¢é˜Ÿå…±äº«å’Œé‡ç”¨ pipeline æ¨¡æ¿æ—¶ï¼Œæ¨¡æ¿çš„çœŸæ­£åŠ›é‡æ‰ä¼šæ˜¾ç°ã€‚è¿™éœ€è¦ä»”ç»†è®¾è®¡åä½œã€æ²»ç†å’Œå®šåˆ¶ã€‚

**é›†ä¸­å¼æ¨¡æ¿å­˜å‚¨åº“**ï¼š

ä¸ºå…±äº«æ¨¡æ¿åˆ›å»ºä¸“ç”¨å­˜å‚¨åº“ï¼š

```
ci-templates-repo/
â”œâ”€â”€ README.md                    # ä½¿ç”¨æŒ‡å—å’Œç›®å½•
â”œâ”€â”€ CHANGELOG.md                 # ç‰ˆæœ¬å†å²
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ base/
â”‚   â”œâ”€â”€ languages/
â”‚   â”œâ”€â”€ mixins/
â”‚   â””â”€â”€ specialized/
â”œâ”€â”€ examples/
â”‚   â”œâ”€â”€ java-service-example.yml
â”‚   â”œâ”€â”€ python-api-example.yml
â”‚   â””â”€â”€ frontend-app-example.yml
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ template-validation/
â””â”€â”€ docs/
    â”œâ”€â”€ getting-started.md
    â”œâ”€â”€ customization-guide.md
    â””â”€â”€ migration-guide.md
```

**å›¢é˜Ÿåä½œæ¨¡å‹**ï¼š

```mermaid
graph TB
    A([ğŸ¢ å¹³å°å›¢é˜Ÿ<br/>æ¨¡æ¿æ‹¥æœ‰è€…]) -->|ç»´æŠ¤ä¸å‘å¸ƒ| B([ğŸ“¦ æ¨¡æ¿å­˜å‚¨åº“])
    B -->|ä½¿ç”¨| C([ğŸ‘¥ å›¢é˜Ÿ A<br/>Java æœåŠ¡])
    B -->|ä½¿ç”¨| D([ğŸ‘¥ å›¢é˜Ÿ B<br/>Python API])
    B -->|ä½¿ç”¨| E([ğŸ‘¥ å›¢é˜Ÿ C<br/>å‰ç«¯åº”ç”¨])
    C -->|åé¦ˆä¸è¯·æ±‚| A
    D -->|åé¦ˆä¸è¯·æ±‚| A
    E -->|åé¦ˆä¸è¯·æ±‚| A
    C -->|åˆ†äº«æ¨¡å¼| F([ğŸ’¡ ç¤¾åŒº<br/>æœ€ä½³å®è·µ])
    D -->|åˆ†äº«æ¨¡å¼| F
    E -->|åˆ†äº«æ¨¡å¼| F
    F -->|å½±å“| A
    
    style A fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
    style B fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style F fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
```

**å›¢é˜Ÿçš„å®šåˆ¶å±‚çº§**ï¼š

å…è®¸å›¢é˜Ÿåœ¨ä¸ fork æ¨¡æ¿çš„æƒ…å†µä¸‹è¿›è¡Œå®šåˆ¶ï¼š

```yaml
# å›¢é˜Ÿ A çš„å®šåˆ¶ï¼ˆteam-a-defaults.ymlï¼‰
defaults:
  java_version: 11
  maven_opts: "-Xmx2048m"
  test_timeout: 20
  notification_channel: "#team-a-builds"

# å›¢é˜Ÿ A çš„æœåŠ¡åŒæ—¶ä½¿ç”¨æ¨¡æ¿å’Œå›¢é˜Ÿé»˜è®¤å€¼
jobs:
  build:
    uses: org/ci-templates/java-microservice@v2.0.0
    with:
      team_config: team-a-defaults.yml
      # æœåŠ¡ç‰¹å®šè¦†ç›–
      test_timeout: 30  # æ­¤æœåŠ¡éœ€è¦æ›´å¤šæ—¶é—´
```

**æ¨¡æ¿æ²»ç†æ¨¡å‹**ï¼š

**æ‰€æœ‰æƒç»“æ„**ï¼š
- **å¹³å°å›¢é˜Ÿ**ï¼šç»´æŠ¤æ ¸å¿ƒæ¨¡æ¿ã€å®¡æŸ¥å˜æ›´ã€ç¡®ä¿è´¨é‡
- **æ¨¡æ¿æ¨å¹¿è€…**ï¼šæ¥è‡ªå„å›¢é˜Ÿæä¾›åé¦ˆçš„ä»£è¡¨
- **æœåŠ¡å›¢é˜Ÿ**ï¼šä½¿ç”¨æ¨¡æ¿ã€æŠ¥å‘Šé—®é¢˜ã€å»ºè®®æ”¹è¿›

**å˜æ›´ç®¡ç†æµç¨‹**ï¼š

1. **ææ¡ˆ**ï¼šå›¢é˜Ÿé€šè¿‡ issue/PR æäº¤æ¨¡æ¿å˜æ›´è¯·æ±‚
2. **å®¡æŸ¥**ï¼šå¹³å°å›¢é˜Ÿå’Œæ¨å¹¿è€…å®¡æŸ¥å½±å“
3. **æµ‹è¯•**ï¼šé’ˆå¯¹å¤šä¸ªå›¢é˜Ÿçš„ç¤ºä¾‹æœåŠ¡æµ‹è¯•å˜æ›´
4. **Beta å‘å¸ƒ**ï¼šä½¿ç”¨ `-beta` æ ‡ç­¾å‘å¸ƒæ–°ç‰ˆæœ¬
5. **è¿ç§»æœŸ**ï¼šå›¢é˜Ÿæµ‹è¯• beta ç‰ˆæœ¬ï¼ˆ2-4 å‘¨ï¼‰
6. **ç¨³å®šå‘å¸ƒ**ï¼šéªŒè¯åå‡çº§ä¸ºç¨³å®šç‰ˆ
7. **å¼ƒç”¨**ï¼šæ—§ç‰ˆæœ¬å¼ƒç”¨ï¼Œè®¾å®š 3 ä¸ªæœˆçš„æ—¥è½æœŸ

**å¤šå›¢é˜Ÿä½¿ç”¨çš„æ¨¡æ¿ç‰ˆæœ¬æ§åˆ¶**ï¼š

```yaml
# è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶ä¸å›¢é˜Ÿè¿ç§»è·Ÿè¸ª
template: java-microservice
version: 2.1.0
released: 2020-08-01
breaking_changes: false
adoption:
  team-a: 15/20 services migrated
  team-b: 8/12 services migrated
  team-c: 20/20 services migrated
deprecated_versions:
  v1.x: sunset 2020-11-01
```

**è‡ªåŠ©å¼æ¨¡æ¿ç›®å½•**ï¼š

ä¸ºå›¢é˜Ÿæä¾›å¯æœç´¢çš„ç›®å½•ï¼š

```yaml
# ç”¨äºæ¢ç´¢çš„æ¨¡æ¿å…ƒæ•°æ®
name: java-microservice
category: backend
language: java
use_cases:
  - REST APIs
  - Microservices
  - Batch jobs
features:
  - Maven/Gradle support
  - JUnit testing
  - Docker packaging
  - Kubernetes deployment
teams_using: [team-a, team-b, team-d, team-f]
maturity: stable
maintainer: platform-team
support_channel: "#ci-templates-help"
```

**è·¨å›¢é˜Ÿå®šåˆ¶æ¨¡å¼**ï¼š

**æ¨¡å¼ 1ï¼šå›¢é˜Ÿç‰¹å®š Mixin**

å›¢é˜Ÿå¯ä»¥åˆ›å»ºä¸åŸºç¡€æ¨¡æ¿é…åˆä½¿ç”¨çš„è‡ªå·±çš„ mixinï¼š

```yaml
# å›¢é˜Ÿ A çš„è‡ªå®šä¹‰å®‰å…¨ mixin
# team-a-security-mixin.yml
steps:
  - name: Team A Security Scan
    run: ./team-a-security-tool
  - name: Upload to Team A Dashboard
    run: ./upload-results

# åœ¨æœåŠ¡ pipeline ä¸­ä½¿ç”¨
jobs:
  build:
    uses: org/ci-templates/base@v2.0.0
  
  team-security:
    uses: team-a/team-a-security-mixin@v1.0.0
```

**æ¨¡å¼ 2ï¼šå‚æ•°åŒ–å›¢é˜Ÿç­–ç•¥**

æ¨¡æ¿æ¥å—å›¢é˜Ÿç‰¹å®šçš„ç­–ç•¥é…ç½®ï¼š

```yaml
# æ¨¡æ¿æ”¯æŒå›¢é˜Ÿç­–ç•¥
jobs:
  build:
    uses: org/ci-templates/java-microservice@v2.0.0
    with:
      team_policy: |
        code_coverage_min: 80%
        security_scan: mandatory
        performance_test: optional
        approval_required: production_only
```

**æ¨¡å¼ 3ï¼šè”é‚¦å¼æ¨¡æ¿æ‰©å±•**

å›¢é˜Ÿå¯ä»¥åœ¨ä¸ä¿®æ”¹åŸå§‹æ¨¡æ¿çš„æƒ…å†µä¸‹æ‰©å±•æ¨¡æ¿ï¼š

```yaml
# å›¢é˜Ÿ B ç”¨ä»–ä»¬çš„æ–°å¢å†…å®¹æ‰©å±•åŸºç¡€æ¨¡æ¿
# team-b-java-extended.yml
name: Team B Java Service

extends: org/ci-templates/java-microservice@v2.0.0

additional_stages:
  post_build:
    - name: Team B Metrics
      run: ./collect-team-metrics
    - name: Team B Notification
      run: ./notify-team-dashboard
```

**è¡¡é‡å¤šå›¢é˜Ÿæ¨¡æ¿æˆåŠŸ**ï¼š

è·Ÿè¸ªé‡‡ç”¨ç‡å’Œæœ‰æ•ˆæ€§ï¼š

```yaml
metrics:
  adoption_rate: 85%  # 170/200 æœåŠ¡ä½¿ç”¨æ¨¡æ¿
  teams_using: 12/15
  average_customization: 15%  # å›¢é˜Ÿè¦†ç›–å¤šå°‘
  template_update_frequency: 2.3/month
  breaking_changes: 0.2/year
  support_tickets: 3.5/month
  time_to_onboard_new_service: 2 hours (was 2 weeks)
```

**æ²Ÿé€šä¸æ”¯æŒ**ï¼š

- **æ–‡æ¡£é—¨æˆ·**ï¼šæ¯ä¸ªæ¨¡æ¿çš„å¯æœç´¢æ–‡æ¡£ä¸ç¤ºä¾‹
- **Slack é¢‘é“**ï¼š`#ci-templates-help` ç”¨äºé—®é¢˜å’Œè®¨è®º
- **åŠå…¬æ—¶é—´**ï¼šæ¯å‘¨å¹³å°å›¢é˜ŸååŠ©å›¢é˜Ÿçš„ä¼šè®®
- **ç”µå­æŠ¥**ï¼šæ¯æœˆæ›´æ–°æ–°æ¨¡æ¿å’Œæ”¹è¿›
- **æ¨¡æ¿å±•ç¤º**ï¼šæ¯å­£æˆåŠŸæ¨¡å¼çš„æ¼”ç¤º

!!!example "ğŸŒŸ å¤šå›¢é˜ŸæˆåŠŸæ•…äº‹"
    **æ‹¥æœ‰ 15 ä¸ªå›¢é˜Ÿã€250 ä¸ªæœåŠ¡çš„ç”µå•†å…¬å¸**ï¼š
    
    **æŒ‘æˆ˜**ï¼šæ¯ä¸ªå›¢é˜Ÿä»¥ä¸åŒæ–¹å¼æ„å»º pipelineï¼Œå¯¼è‡´ï¼š
    - ä¸ä¸€è‡´çš„å®‰å…¨å®è·µ
    - è·¨å›¢é˜Ÿåä½œå›°éš¾
    - é«˜ç»´æŠ¤è´Ÿæ‹…
    - æ–°å·¥ç¨‹å¸ˆå…¥èŒç¼“æ…¢
    
    **è§£å†³æ–¹æ¡ˆ**ï¼šå®æ–½å…±äº«æ¨¡æ¿åº“ï¼š
    - 6 ä¸ªåŸºç¡€æ¨¡æ¿ï¼ˆJavaã€Pythonã€Node.jsã€Goã€Mobileã€Dataï¼‰
    - å›¢é˜Ÿç‰¹å®šå®šåˆ¶å±‚çº§
    - è”é‚¦æ²»ç†æ¨¡å‹
    - è‡ªåŠ©å¼ç›®å½•
    
    **6 ä¸ªæœˆåçš„ç»“æœ**ï¼š
    - 85% æ¨¡æ¿é‡‡ç”¨ç‡ï¼ˆ213/250 æœåŠ¡ï¼‰
    - pipeline ç»´æŠ¤æ—¶é—´å‡å°‘ 90%
    - 100% æœåŠ¡ç°åœ¨æœ‰å®‰å…¨æ‰«æ
    - æ–°æœåŠ¡å…¥èŒï¼š2 å°æ—¶ï¼ˆåŸä¸º 2 å‘¨ï¼‰
    - è·¨å›¢é˜Ÿåä½œæ”¹å–„ï¼ˆå…±äº«æ¨¡å¼ï¼‰
    - 3 ä¸ªå›¢é˜Ÿè´¡çŒ®æ”¹è¿›å›æ¨¡æ¿
    
    **å…³é”®æˆåŠŸå› ç´ **ï¼šæ ‡å‡†åŒ–ä¸å›¢é˜Ÿè‡ªä¸»æƒä¹‹é—´çš„å¹³è¡¡

**æ¨¡æ¿æ²»ç†**ï¼š

- **æ‰€æœ‰æƒ**ï¼šå¹³å°å›¢é˜Ÿç»´æŠ¤æ¨¡æ¿ï¼ŒæœåŠ¡å›¢é˜Ÿä½¿ç”¨å®ƒä»¬
- **å˜æ›´æµç¨‹**ï¼šæ¨¡æ¿å˜æ›´éœ€è¦å®¡æŸ¥å’Œæµ‹è¯•
- **æ–‡æ¡£**ï¼šæ¯ä¸ªæ¨¡æ¿åŒ…å«ä½¿ç”¨ç¤ºä¾‹å’Œå‚æ•°
- **æŒ‡æ ‡**ï¼šè·Ÿè¸ªæ¨¡æ¿é‡‡ç”¨ç‡å¹¶è¯†åˆ«æ”¹è¿›æœºä¼š

### 3. å¿«é€Ÿå¤±è´¥åŸåˆ™

å…ˆæ‰§è¡Œå¿«é€Ÿæ£€æŸ¥ã€‚å¦‚æœé™æ€åˆ†æå¤±è´¥ï¼Œä¸è¦æµªè´¹æ—¶é—´åœ¨æ„å»ºå’Œæµ‹è¯•ä¸Šã€‚è¿™èŠ‚çœè®¡ç®—èµ„æºå¹¶æä¾›æ›´å¿«çš„åé¦ˆã€‚

**æœ€ä½³é˜¶æ®µé¡ºåº**ï¼š
1. Lintingï¼ˆç§’ï¼‰
2. é™æ€åˆ†æï¼ˆ1-2 åˆ†é’Ÿï¼‰
3. æ„å»ºï¼ˆ2-5 åˆ†é’Ÿï¼‰
4. å•å…ƒæµ‹è¯•ï¼ˆ5-10 åˆ†é’Ÿï¼‰
5. é›†æˆæµ‹è¯•ï¼ˆ10-20 åˆ†é’Ÿï¼‰
6. E2E æµ‹è¯•ï¼ˆ20-30 åˆ†é’Ÿï¼‰

### 4. å¹¶è¡Œæ‰§è¡Œ

åŒæ—¶æ‰§è¡Œç‹¬ç«‹ä»»åŠ¡ï¼š

- **æµ‹è¯•å¹¶è¡ŒåŒ–**ï¼šå°†æµ‹è¯•å¥—ä»¶åˆ†æ•£åˆ°å¤šä¸ªè¿è¡Œå™¨
- **å¤šå¹³å°æ„å»º**ï¼šåŒæ—¶ä¸ºä¸åŒå¹³å°æ„å»º
- **ç‹¬ç«‹æœåŠ¡**ï¼šå¹¶è¡Œæ„å»ºå¾®æœåŠ¡

è¿™å¯ä»¥å°† pipeline æ—¶é—´ä»æ•°å°æ—¶å‡å°‘åˆ°æ•°åˆ†é’Ÿã€‚

### 5. ç¼“å­˜ç­–ç•¥

å®æ–½ç§¯æçš„ç¼“å­˜ï¼š

- **ä¾èµ–é¡¹ç¼“å­˜**ï¼šç¼“å­˜ npmã€Maven æˆ– pip ä¾èµ–é¡¹
- **æ„å»ºç¼“å­˜**ï¼šå½“æºä»£ç æœªå˜æ›´æ—¶é‡ç”¨ç¼–è¯‘äº§ç‰©
- **Docker å±‚ç¼“å­˜**ï¼šåˆ©ç”¨ Docker çš„å±‚ç¼“å­˜åŠ å¿«é•œåƒæ„å»º

!!!tip "ğŸ’¡ ç¼“å­˜å¤±æ•ˆ"
    ç¼“å­˜å¤±æ•ˆæ˜¯å‡ºäº†åçš„å›°éš¾ã€‚ä½¿ç”¨åŸºäºå†…å®¹çš„ç¼“å­˜é”®ï¼ˆä¾èµ–æ–‡ä»¶çš„å“ˆå¸Œï¼‰è€ŒéåŸºäºæ—¶é—´çš„è¿‡æœŸã€‚è¿™ç¡®ä¿ç¼“å­˜ä»…åœ¨ä¾èµ–é¡¹å®é™…å˜æ›´æ—¶å¤±æ•ˆã€‚

### 6. ç¯å¢ƒä¸€è‡´æ€§

ä¿æŒå¼€å‘ã€é¢„å‘å’Œç”Ÿäº§ç¯å¢ƒå°½å¯èƒ½ç›¸ä¼¼ï¼š

- **åŸºç¡€è®¾æ–½å³ä»£ç **ï¼šä½¿ç”¨ Terraform æˆ– CloudFormation å®šä¹‰ç¯å¢ƒ
- **é…ç½®ç®¡ç†**ï¼šåœ¨æ‰€æœ‰ç¯å¢ƒä¸­ä½¿ç”¨ç›¸åŒçš„é…ç½®ç³»ç»Ÿ
- **æ•°æ®ä¸€è‡´æ€§**ï¼šåœ¨é¢„å‘ç¯å¢ƒä¸­å°½å¯èƒ½ä½¿ç”¨åŒ¿ååŒ–çš„ç”Ÿäº§æ•°æ®

### 7. ç›‘æ§ä¸å¯è§‚æµ‹æ€§

ä¸ºä½ çš„ pipeline æ·»åŠ ç›‘æµ‹ï¼š

- **æ„å»ºæŒ‡æ ‡**ï¼šè·Ÿè¸ªæ„å»ºæŒç»­æ—¶é—´ã€æˆåŠŸç‡ã€å¤±è´¥åŸå› 
- **èµ„æºä½¿ç”¨**ï¼šç›‘æ§æ„å»ºæœŸé—´çš„ CPUã€å†…å­˜å’Œç£ç›˜ä½¿ç”¨
- **å‘Šè­¦**ï¼šå½“ pipeline å¤±è´¥æˆ–æ€§èƒ½ä¸‹é™æ—¶é€šçŸ¥å›¢é˜Ÿ

### 8. å®‰å…¨å¼ºåŒ–

ä¿æŠ¤ä½ çš„ CI åŸºç¡€è®¾æ–½ï¼š

- **æœºå¯†ç®¡ç†**ï¼šä½¿ç”¨ä¿ç®¡åº“ç³»ç»Ÿï¼ˆHashiCorp Vaultã€AWS Secrets Managerï¼‰ç®¡ç†å‡­è¯
- **æœ€å°æƒé™**ï¼šä¸ºæ¯ä¸ª pipeline é˜¶æ®µæˆäºˆæ‰€éœ€çš„æœ€å°æƒé™
- **å®¡è®¡æ—¥å¿—**ï¼šè®°å½•æ‰€æœ‰ pipeline æ‰§è¡Œå’Œè®¿é—®å°è¯•
- **ç½‘ç»œéš”ç¦»**ï¼šåœ¨éš”ç¦»ç½‘ç»œä¸­æ‰§è¡Œæ„å»ºä»¥é˜²æ­¢æ¨ªå‘ç§»åŠ¨

!!!warning "âš ï¸ å¸¸è§å®‰å…¨é”™è¯¯"
    **é¿å…è¿™äº›å…³é”®å®‰å…¨é™·é˜±ï¼š**
    - åœ¨ç¯å¢ƒå˜é‡ä¸­å­˜å‚¨å‡­è¯
    - ä»¥ç®¡ç†å‘˜æƒé™æ‰§è¡Œæ„å»º
    - å…è®¸åœ¨ pull request ä¸­æ‰§è¡Œä»»æ„ä»£ç 
    - å°†å†…éƒ¨æœåŠ¡æš´éœ²ç»™æ„å»ºè¿è¡Œå™¨
    - æœªèƒ½å®šæœŸè½®æ¢å‡­è¯
    
    **å½±å“ï¼š** è¿™äº›é”™è¯¯å¯èƒ½å¯¼è‡´å‡­è¯ç›—ç”¨ã€æƒé™æå‡å’Œå¯¹ç”Ÿäº§ç³»ç»Ÿçš„æœªæˆæƒè®¿é—®ã€‚

## å•ä¸€ Pipeline é€‚ç”¨æ‰€æœ‰åº”ç”¨çš„è¾©è®º

ä¼ä¸šçº§ CI è®¾è®¡ä¸­åå¤å‡ºç°çš„é—®é¢˜ï¼šä½ åº”è¯¥åˆ›å»ºä¸€ä¸ªå¤„ç†æ‰€æœ‰åº”ç”¨çš„é€šç”¨ pipelineï¼Œè¿˜æ˜¯ä¸ºä¸åŒç”¨ä¾‹ç»´æŠ¤ä¸“é—¨çš„ pipelineï¼Ÿç­”æ¡ˆï¼Œå°±åƒå¤§å¤šæ•°æ¶æ„å†³ç­–ä¸€æ ·ï¼Œæ˜¯å¾®å¦™çš„ã€‚

### é€šç”¨ Pipeline çš„å¸å¼•åŠ›

è¿™ä¸ªæƒ³æ³•å¾ˆè¯±äººï¼šä¸€ä¸ª pipeline ç»Ÿæ²»æ‰€æœ‰ã€‚æ¯ä¸ªåº”ç”¨ï¼Œæ— è®ºè¯­è¨€æˆ–æ¡†æ¶ï¼Œéƒ½é€šè¿‡ç›¸åŒçš„é˜¶æ®µå’Œç›¸åŒçš„è´¨é‡é—¨ç¦ã€‚

**ç†è®ºä¼˜åŠ¿**ï¼š
- æ•´ä¸ªç»„ç»‡çš„ç»ˆæä¸€è‡´æ€§
- å•ä¸€ç»´æŠ¤ç‚¹
- ç®€åŒ–æ²»ç†å’Œåˆè§„
- æ–°å›¢é˜Ÿæ›´å®¹æ˜“å…¥èŒ

**ç°å®æ£€éªŒ**ï¼š

çœŸæ­£çš„é€šç”¨ pipeline è¦ä¹ˆå˜å¾—è¿‡äºé€šç”¨è€Œæ— ç”¨ï¼Œè¦ä¹ˆè¿‡äºå¤æ‚è€Œéš¾ä»¥ç»´æŠ¤ã€‚è€ƒè™‘è¿™äº›æƒ…å¢ƒï¼š

```mermaid
graph TB
    A([é€šç”¨ Pipeline]) --> B{åº”ç”¨ç±»å‹ï¼Ÿ}
    B -->|Java| C[Maven æ„å»º<br/>JUnit æµ‹è¯•<br/>JAR æ‰“åŒ…]
    B -->|Python| D[pip install<br/>pytest<br/>Wheel æ‰“åŒ…]
    B -->|Node.js| E[npm install<br/>Jest æµ‹è¯•<br/>Docker é•œåƒ]
    B -->|Go| F[go build<br/>go test<br/>äºŒè¿›åˆ¶æ‰“åŒ…]
    B -->|Mobile| G[Gradle/Xcode<br/>UI æµ‹è¯•<br/>App store éƒ¨ç½²]
    
    style A fill:#ffebee,stroke:#c62828,stroke-width:3px
    style C fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style D fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style E fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style F fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style G fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
```

**å¤æ‚åº¦çˆ†ç‚¸**ï¼š

å¤„ç†æ‰€æœ‰è¿™äº›æƒ…å†µçš„é€šç”¨ pipeline éœ€è¦ï¼š
- æ¯ç§è¯­è¨€å’Œæ¡†æ¶çš„æ¡ä»¶é€»è¾‘
- æŒ‡å®šåº”ç”¨ç±»å‹çš„é…ç½®æ–‡ä»¶
- è¯†åˆ«é¡¹ç›®ç»“æ„çš„æ£€æµ‹æœºåˆ¶
- æ£€æµ‹å¤±è´¥æ—¶çš„åå¤‡ç­–ç•¥
- è·¨æ‰€æœ‰æ”¯æŒæƒ…å¢ƒçš„å¹¿æ³›æµ‹è¯•

ç»“æœï¼Ÿä¸€ä¸ª 2000 è¡Œçš„ pipeline é…ç½®ï¼Œæ²¡äººå®Œå…¨ç†è§£ï¼Œæ¯ä¸ªäººéƒ½å®³æ€•è§¦ç¢°ã€‚

### è§£å†³æ–¹æ¡ˆçš„å…‰è°±

ä¸å…¶äºŒå…ƒé€‰æ‹©ï¼Œä¸å¦‚è€ƒè™‘ä¸€ä¸ªå…‰è°±ï¼š

**å±‚çº§ 1ï¼šå®Œå…¨ä¸“é—¨åŒ–çš„ Pipeline**
- æ¯ä¸ªåº”ç”¨éƒ½æœ‰ç‹¬ç‰¹çš„ pipeline
- æœ€å¤§çµæ´»æ€§ï¼Œé›¶é‡ç”¨
- å¤§è§„æ¨¡ç»´æŠ¤å™©æ¢¦

**å±‚çº§ 2ï¼šè¯­è¨€ç‰¹å®šæ¨¡æ¿** â­ï¼ˆæ¨èï¼‰
- Javaã€Pythonã€Node.js ç­‰çš„ç‹¬ç«‹æ¨¡æ¿
- æ¯ä¸ªæ¨¡æ¿é’ˆå¯¹å…¶ç”Ÿæ€ç³»ç»Ÿä¼˜åŒ–
- æœåŠ¡ç»§æ‰¿å¹¶æ ¹æ®éœ€è¦å®šåˆ¶

**å±‚çº§ 3ï¼šæ··åˆé€šç”¨ Pipeline**
- å…·æœ‰è¯­è¨€ç‰¹å®šæ’ä»¶çš„åŸºç¡€ pipeline
- ä¸­ç­‰å¤æ‚åº¦ï¼Œè‰¯å¥½é‡ç”¨
- éœ€è¦å¤æ‚çš„æ’ä»¶æ¶æ„

**å±‚çº§ 4ï¼šå®Œå…¨é€šç”¨ Pipeline**
- ä¸€ä¸ª pipeline å¤„ç†æ‰€æœ‰äº‹æƒ…
- æœ€å¤§ä¸€è‡´æ€§ï¼Œé«˜å¤æ‚åº¦
- éš¾ä»¥ç»´æŠ¤å’Œæ‰©å±•

!!!tip "ğŸ¯ æœ€ä½³å¹³è¡¡ç‚¹"
    **å±‚çº§ 2ï¼ˆè¯­è¨€ç‰¹å®šæ¨¡æ¿ï¼‰**ä¸ºå¤§å¤šæ•°ä¼ä¸šæä¾›æœ€ä½³å¹³è¡¡ï¼š
    
    - **ä¸€è‡´æ€§**ï¼šæ‰€æœ‰ Java æœåŠ¡ä½¿ç”¨ç›¸åŒçš„ Java æ¨¡æ¿
    - **ä¼˜åŒ–**ï¼šæ¯ä¸ªæ¨¡æ¿ä½¿ç”¨è¯­è¨€ç‰¹å®šçš„æœ€ä½³å®è·µ
    - **å¯ç»´æŠ¤æ€§**ï¼š5-10 ä¸ªæ¨¡æ¿è€Œé 200 ä¸ªç‹¬ç‰¹ pipeline
    - **çµæ´»æ€§**ï¼šæœåŠ¡å¯ä»¥åœ¨éœ€è¦æ—¶è¦†ç›–
    - **ç®€å•æ€§**ï¼šæ¯ä¸ªæ¨¡æ¿éƒ½ä¸“æ³¨ä¸”æ˜“äºç†è§£

### é€šç”¨ Pipeline ä½•æ—¶æœ‰æ•ˆ

é€šç”¨ pipeline åœ¨ç‰¹å®šæƒ…å¢ƒä¸‹å¯ä»¥æˆåŠŸï¼š

**åŒè´¨ç¯å¢ƒ**ï¼š
- ç»„ç»‡æ ‡å‡†åŒ–ä¸ºå•ä¸€è¯­è¨€/æ¡†æ¶
- æ‰€æœ‰æœåŠ¡éµå¾ªç›¸åŒçš„æ¶æ„æ¨¡å¼
- ç¤ºä¾‹ï¼š100% Go æœåŠ¡çš„å¾®æœåŠ¡å…¬å¸

**å®¹å™¨ä¼˜å…ˆç»„ç»‡**ï¼š
- æ¯ä¸ªåº”ç”¨éƒ½æ„å»º Docker é•œåƒ
- Pipeline ä¸“æ³¨äºå®¹å™¨ç”Ÿå‘½å‘¨æœŸï¼Œè€Œéè¯­è¨€ç‰¹å®š
- è¯­è¨€ç‰¹å®šæ­¥éª¤å‘ç”Ÿåœ¨ Dockerfile å†…

```yaml
# é€šç”¨å®¹å™¨ pipeline
stages:
  - lint
  - build-image    # Dockerfile å¤„ç†è¯­è¨€ç‰¹å®š
  - test-image
  - scan-image
  - push-image
  - deploy
```

**é«˜åº¦æŠ½è±¡çš„å¹³å°**ï¼š
- å¹³å°å›¢é˜Ÿæä¾›æ„å»ºæŠ½è±¡
- åº”ç”¨å£°æ˜ä¾èµ–é¡¹ï¼Œå¹³å°å¤„ç†æ„å»º
- ç¤ºä¾‹ï¼šå…·æœ‰é€šç”¨è§„åˆ™çš„ Bazel æˆ– Buck æ„å»ºç³»ç»Ÿ

### åŸºäºæ¨¡æ¿çš„æ–¹æ³•ï¼ˆæ¨èï¼‰

ä¸å…¶å¼ºåˆ¶æ‰€æœ‰ä¸œè¥¿é€šè¿‡ä¸€ä¸ª pipelineï¼Œä¸å¦‚åˆ›å»ºä¸€ç³»åˆ—ä¸“é—¨çš„æ¨¡æ¿ï¼š

```
Templates/
â”œâ”€â”€ base-template.yml           # æ‰€æœ‰ç»§æ‰¿çš„å…±åŒé˜¶æ®µ
â”œâ”€â”€ java-microservice.yml       # æ‰©å±•åŸºç¡€ï¼Œæ·»åŠ  Maven/Gradle
â”œâ”€â”€ python-service.yml          # æ‰©å±•åŸºç¡€ï¼Œæ·»åŠ  pip/pytest
â”œâ”€â”€ nodejs-frontend.yml         # æ‰©å±•åŸºç¡€ï¼Œæ·»åŠ  npm/webpack
â”œâ”€â”€ mobile-ios.yml              # æ‰©å±•åŸºç¡€ï¼Œæ·»åŠ  Xcode
â”œâ”€â”€ mobile-android.yml          # æ‰©å±•åŸºç¡€ï¼Œæ·»åŠ  Gradle
â””â”€â”€ data-pipeline.yml           # æ‰©å±•åŸºç¡€ï¼Œæ·»åŠ  Spark/Airflow
```

**æ¯ä¸ªæ¨¡æ¿é’ˆå¯¹å…¶é¢†åŸŸä¼˜åŒ–**ï¼š

```yaml
# java-microservice.yml
extends: base-template.yml

stages:
  - validate:
      - checkstyle
      - spotbugs
  - build:
      - maven: clean package
      - cache: ~/.m2/repository
  - test:
      - junit: test
      - jacoco: coverage > 80%
  - package:
      - docker: build
      - artifact: target/*.jar
```

```yaml
# nodejs-frontend.yml
extends: base-template.yml

stages:
  - validate:
      - eslint
      - prettier
  - build:
      - npm: ci
      - webpack: build --production
      - cache: node_modules/
  - test:
      - jest: --coverage
      - cypress: e2e
  - package:
      - s3: upload dist/
```

### å†³ç­–æ¡†æ¶

ä½¿ç”¨æ­¤æ¡†æ¶å†³å®šä½ çš„æ–¹æ³•ï¼š

**é€‰æ‹©é€šç”¨ Pipeline å¦‚æœ**ï¼š
- âœ… æ‰€æœ‰åº”ç”¨ä½¿ç”¨ç›¸åŒè¯­è¨€/æ¡†æ¶
- âœ… ç»„ç»‡æœ‰å¼ºå¤§çš„å¹³å°å·¥ç¨‹å›¢é˜Ÿ
- âœ… å®¹å™¨ä¼˜å…ˆæ¶æ„ä¸è¯­è¨€æŠ½è±¡
- âœ… æ„¿æ„å¤§é‡æŠ•èµ„äº pipeline å¤æ‚åº¦

**é€‰æ‹©åŸºäºæ¨¡æ¿çš„æ–¹æ³•å¦‚æœ**ï¼š
- âœ… ä½¿ç”¨å¤šç§è¯­è¨€å’Œæ¡†æ¶
- âœ… ä¸åŒåº”ç”¨ç±»å‹ï¼ˆwebã€mobileã€dataã€MLï¼‰
- âœ… å›¢é˜Ÿéœ€è¦ç‰¹æ®Šéœ€æ±‚çš„çµæ´»æ€§
- âœ… æƒ³è¦ä¸€è‡´æ€§ä¸å¯ç»´æŠ¤æ€§ä¹‹é—´çš„å¹³è¡¡

**é€‰æ‹©ä¸“é—¨åŒ– Pipeline å¦‚æœ**ï¼š
- âœ… éå¸¸å°çš„ç»„ç»‡ï¼ˆ<10 ä¸ªæœåŠ¡ï¼‰
- âœ… é«˜åº¦å¤šæ ·åŒ–çš„æŠ€æœ¯æ ˆ
- âœ… æ¯ä¸ªåº”ç”¨éƒ½æœ‰ç‹¬ç‰¹çš„éƒ¨ç½²éœ€æ±‚
- âœ… å¿«é€Ÿå®éªŒæ¯”ä¸€è‡´æ€§æ›´é‡è¦

!!!warning "âš ï¸ åæ¨¡å¼ï¼šè¶…å¤§å‹ Pipeline"
    é¿å…åˆ›å»ºå…·æœ‰æ•°ç™¾ä¸ªæ¡ä»¶åˆ†æ”¯çš„å•ä¸€ pipelineï¼š
    
    è¿™å˜å¾—éš¾ä»¥ç»´æŠ¤ä¸”å®¹æ˜“å‡ºé”™ã€‚æ”¹ç”¨æ¨¡æ¿ã€‚

**åæ¨¡å¼ç¤ºä¾‹ï¼š**

```yaml
# ä¸è¦è¿™æ ·åš
if language == "java":
  if build_tool == "maven":
    if java_version == "8":
      run: mvn -Djava.version=8 package
    elif java_version == "11":
      run: mvn -Djava.version=11 package
  elif build_tool == "gradle":
    # ... æ›´å¤šæ¡ä»¶
elif language == "python":
  # ... æ›´å¤šæ¡ä»¶
```

### ç»“è®ºï¼šåŠ¡å®çš„çµæ´»æ€§

é—®é¢˜ä¸æ˜¯ã€Œä¸€ä¸ª pipeline èƒ½é€‚ç”¨æ‰€æœ‰åº”ç”¨å—ï¼Ÿã€è€Œæ˜¯ã€Œåº”è¯¥å—ï¼Ÿã€å¯¹å¤§å¤šæ•°ä¼ä¸šæ¥è¯´ç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚ç›¸åï¼š

1. **åˆ›å»ºåŸºç¡€æ¨¡æ¿**ï¼ŒåŒ…å«å…±åŒé˜¶æ®µï¼ˆå®‰å…¨ã€åˆè§„ã€éƒ¨ç½²ï¼‰
2. **æ„å»ºä¸“é—¨æ¨¡æ¿**ï¼Œé’ˆå¯¹æ¯ä¸ªä¸»è¦æŠ€æœ¯æ ˆ
3. **å…è®¸å®šåˆ¶**ï¼Œå›¢é˜Ÿæœ‰åˆç†çš„ç‰¹æ®Šéœ€æ±‚æ—¶
4. **ç»´æŠ¤æ²»ç†**ï¼Œé€šè¿‡åŸºç¡€æ¨¡æ¿ä¸­çš„å¿…éœ€é˜¶æ®µ
5. **è¡¡é‡å’Œè¿­ä»£**ï¼ŒåŸºäºå®é™…ä½¿ç”¨æ¨¡å¼

è¿™ç§æ–¹æ³•åœ¨é‡è¦çš„åœ°æ–¹æä¾›ä¸€è‡´æ€§ï¼ˆå®‰å…¨ã€åˆè§„ï¼‰ï¼ŒåŒæ—¶åœ¨æœ‰å¸®åŠ©çš„åœ°æ–¹å…è®¸ä¼˜åŒ–ï¼ˆè¯­è¨€ç‰¹å®šå·¥å…·ï¼‰ã€‚è¿™æ˜¯ä¸ä½ çš„ç»„ç»‡ä¸€èµ·æ‰©å±•çš„åŠ¡å®ä¸­é—´åœ°å¸¦ã€‚

## å¤„ç†å¸¸è§ä¼ä¸šæŒ‘æˆ˜

### æŒ‘æˆ˜ 1ï¼šæ„å»ºæ—¶é—´è¿‡é•¿

**é—®é¢˜**ï¼šæ„å»ºè€—æ—¶ 30 åˆ†é’Ÿä»¥ä¸Šè®©å¼€å‘äººå‘˜æ²®ä¸§å¹¶å‡ç¼“äº¤ä»˜ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
- å®æ–½å¢é‡æ„å»ºï¼ˆä»…é‡å»ºå˜æ›´çš„ç»„ä»¶ï¼‰
- ä½¿ç”¨åˆ†å¸ƒå¼æ„å»ºç³»ç»Ÿï¼ˆBazelã€Buckï¼‰
- æŠ•èµ„æ›´å¿«çš„æ„å»ºåŸºç¡€è®¾æ–½
- å¹¶è¡ŒåŒ–æµ‹è¯•æ‰§è¡Œ
- ç§¯æç¼“å­˜

### æŒ‘æˆ˜ 2ï¼šä¸ç¨³å®šçš„æµ‹è¯•

**é—®é¢˜**ï¼šé€šè¿‡/å¤±è´¥ä¸ä¸€è‡´çš„æµ‹è¯•ä¾µèš€å¯¹ CI çš„ä¿¡å¿ƒã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
- éš”ç¦»ä¸ç¨³å®šçš„æµ‹è¯•ï¼ˆå•ç‹¬æ‰§è¡Œï¼Œä¸é˜»å¡ pipelineï¼‰
- ä¸ºä¾èµ–ç½‘ç»œçš„æµ‹è¯•æ·»åŠ é‡è¯•é€»è¾‘
- ä½¿ç”¨æµ‹è¯•éš”ç¦»æŠ€æœ¯
- ç›‘æ§æµ‹è¯•å¯é æ€§æŒ‡æ ‡
- åˆ†é…æ—¶é—´è¿›è¡Œæµ‹è¯•ç»´æŠ¤

### æŒ‘æˆ˜ 3ï¼šä¾èµ–é¡¹ç®¡ç†

**é—®é¢˜**ï¼šè·¨æ•°ç™¾ä¸ªæœåŠ¡ç®¡ç†ä¾èµ–é¡¹å˜å¾—æ··ä¹±ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
- ä½¿ç”¨ä¾èµ–é¡¹ç®¡ç†å·¥å…·ï¼ˆDependabotã€Renovateï¼‰
- å®æ–½è‡ªåŠ¨åŒ–ä¾èµ–é¡¹æ›´æ–°
- ç»´æŠ¤å·²æ‰¹å‡†çš„ä¾èµ–é¡¹æ¸…å•
- ä½¿ç”¨é”å®šæ–‡ä»¶ç¡®ä¿å¯é‡ç°çš„æ„å»º
- å®šæœŸè¿›è¡Œä¾èµ–é¡¹å®‰å…¨å®¡è®¡

### æŒ‘æˆ˜ 4ï¼šå¤šå›¢é˜Ÿåè°ƒ

**é—®é¢˜**ï¼šå›¢é˜Ÿåœ¨éƒ¨ç½²æœŸé—´äº’ç›¸å¹²æ‰°ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
- å®æ–½éƒ¨ç½²æ—¶é—´çª—å£
- ä½¿ç”¨åŠŸèƒ½æ ‡å¿—å°†éƒ¨ç½²ä¸å‘å¸ƒè§£è€¦
- å»ºç«‹æ˜ç¡®çš„æ‰€æœ‰æƒè¾¹ç•Œ
- åˆ›å»ºå…±äº« pipeline æ¨¡æ¿
- å®šæœŸè·¨å›¢é˜ŸåŒæ­¥ä¼šè®®

### æŒ‘æˆ˜ 5ï¼šåˆè§„ä¸å®¡è®¡è¦æ±‚

**é—®é¢˜**ï¼šç›‘ç®¡è¦æ±‚éœ€è¦å¹¿æ³›çš„æ–‡æ¡£å’Œæ§åˆ¶ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
- pipeline ä¸­çš„è‡ªåŠ¨åŒ–åˆè§„æ£€æŸ¥
- ä¸å¯å˜å®¡è®¡æ—¥å¿—
- ç”Ÿäº§éƒ¨ç½²çš„å®¡æ‰¹å·¥ä½œæµç¨‹
- è‡ªåŠ¨åŒ–å®¡è®¡è¯æ®æ”¶é›†
- å®šæœŸåˆè§„å®¡æŸ¥

## å·¥å…·ä¸æŠ€æœ¯

### CI/CD å¹³å°

**Jenkins**ï¼šæœ€çµæ´»ï¼Œéœ€è¦å¤§é‡ç»´æŠ¤ã€‚æœ€é€‚åˆå…·æœ‰ç°æœ‰ Jenkins ä¸“ä¸šçŸ¥è¯†çš„å¤æ‚ä¼ä¸šéœ€æ±‚ã€‚

**GitLab CI**ï¼šä¸æºä»£ç æ§åˆ¶é›†æˆï¼Œé€‚åˆæƒ³è¦ä¸€ä½“åŒ–è§£å†³æ–¹æ¡ˆçš„å›¢é˜Ÿã€‚

**GitHub Actions**ï¼šéå¸¸é€‚åˆä»¥ GitHub ä¸ºä¸­å¿ƒçš„å·¥ä½œæµç¨‹ï¼Œä¸æ–­å¢é•¿çš„ action ç”Ÿæ€ç³»ç»Ÿã€‚

**CircleCI**ï¼šå¼ºå¤§çš„æ€§èƒ½ï¼Œè‰¯å¥½çš„ç¼“å­˜ï¼Œæ‰©å±•æ€§å¥½ã€‚

**AWS CodePipeline**ï¼šåŸç”Ÿ AWS é›†æˆï¼Œæ— æœåŠ¡å™¨æ‰§è¡Œæ¨¡å‹ã€‚

### æ„å»ºå·¥å…·

**Maven/Gradle**ï¼šJava ç”Ÿæ€ç³»ç»Ÿæ ‡å‡†
**npm/Yarn**ï¼šJavaScript åŒ…ç®¡ç†
**Make**ï¼šé€šç”¨æ„å»ºè‡ªåŠ¨åŒ–
**Bazel**ï¼šGoogle çš„æ„å»ºç³»ç»Ÿï¼Œéå¸¸é€‚åˆ monorepo

### æµ‹è¯•æ¡†æ¶

**JUnit/TestNG**ï¼šJava æµ‹è¯•
**Jest/Mocha**ï¼šJavaScript æµ‹è¯•
**pytest**ï¼šPython æµ‹è¯•
**Selenium**ï¼šæµè§ˆå™¨è‡ªåŠ¨åŒ–
**JMeter**ï¼šæ€§èƒ½æµ‹è¯•

### å®‰å…¨å·¥å…·

**SonarQube**ï¼šä»£ç è´¨é‡å’Œå®‰å…¨åˆ†æ
**Snyk**ï¼šä¾èµ–é¡¹æ¼æ´æ‰«æ
**Trivy**ï¼šå®¹å™¨å®‰å…¨æ‰«æ
**OWASP Dependency-Check**ï¼šå¼€æºä¾èµ–é¡¹åˆ†æ

## è¡¡é‡ Pipeline æˆåŠŸ

è·Ÿè¸ªè¿™äº›å…³é”®æŒ‡æ ‡ï¼š

**æ„å»ºæˆåŠŸç‡**ï¼šé€šè¿‡çš„æ„å»ºç™¾åˆ†æ¯”ã€‚ç›®æ ‡ï¼š>95%

**å¹³å‡åé¦ˆæ—¶é—´**ï¼šå¼€å‘äººå‘˜è·å¾—æ„å»ºç»“æœçš„é€Ÿåº¦ã€‚ç›®æ ‡ï¼š<10 åˆ†é’Ÿ

**éƒ¨ç½²é¢‘ç‡**ï¼šéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒçš„é¢‘ç‡ã€‚ç›®æ ‡ï¼šæ¯å¤©å¤šæ¬¡

**å˜æ›´å¤±è´¥ç‡**ï¼šå¯¼è‡´äº‹æ•…çš„éƒ¨ç½²ç™¾åˆ†æ¯”ã€‚ç›®æ ‡ï¼š<5%

**å¹³å‡æ¢å¤æ—¶é—´**ï¼šä»å¤±è´¥ä¸­æ¢å¤çš„é€Ÿåº¦ã€‚ç›®æ ‡ï¼š<1 å°æ—¶

{% echarts %}
{
  "title": {
    "text": "CI Pipeline æ€§èƒ½æŒ‡æ ‡"
  },
  "tooltip": {
    "trigger": "axis"
  },
  "legend": {
    "data": ["æ„å»ºæˆåŠŸç‡", "éƒ¨ç½²é¢‘ç‡"]
  },
  "xAxis": {
    "type": "category",
    "data": ["ç¬¬ 1 å‘¨", "ç¬¬ 2 å‘¨", "ç¬¬ 3 å‘¨", "ç¬¬ 4 å‘¨"]
  },
  "yAxis": {
    "type": "value",
    "name": "ç™¾åˆ†æ¯”"
  },
  "series": [
    {
      "name": "æ„å»ºæˆåŠŸç‡",
      "type": "line",
      "data": [92, 94, 96, 97],
      "itemStyle": {
        "color": "#388e3c"
      }
    },
    {
      "name": "éƒ¨ç½²é¢‘ç‡",
      "type": "line",
      "data": [85, 88, 91, 93],
      "itemStyle": {
        "color": "#1976d2"
      }
    }
  ]
}
{% endecharts %}


## ç»“è®º

ä¸ºä¼ä¸šç¯å¢ƒè®¾è®¡ CI pipeline éœ€è¦å¹³è¡¡ç«äº‰éœ€æ±‚ï¼šé€Ÿåº¦ä¸å½»åº•æ€§ã€çµæ´»æ€§ä¸æ ‡å‡†åŒ–ã€åˆ›æ–°ä¸ç¨³å®šæ€§ã€‚è¿™é‡Œæ¦‚è¿°çš„åŸåˆ™â€”â€”å¿«é€Ÿå¤±è´¥ã€ç§¯æç¼“å­˜ã€å…¨é¢æµ‹è¯•ã€é»˜è®¤å®‰å…¨â€”â€”ä¸ºæ„å»ºä¸ä½ çš„ç»„ç»‡ä¸€èµ·æ‰©å±•çš„ pipeline æä¾›äº†åŸºç¡€ã€‚

è®°ä½ï¼ŒCI pipeline è®¾è®¡æ°¸è¿œä¸ä¼šå®Œæˆã€‚éšç€ä½ çš„ç»„ç»‡æˆé•¿ã€æŠ€æœ¯æ¼”è¿›å’Œéœ€æ±‚å˜åŒ–ï¼Œä½ çš„ pipeline å¿…é¡»é€‚åº”ã€‚æŠ•èµ„ä½¿å®ƒä»¬å¯ç»´æŠ¤ã€å¯è§‚æµ‹å’ŒæŒç»­æ”¹è¿›ã€‚

ç›®æ ‡ä¸æ˜¯å®Œç¾â€”â€”è€Œæ˜¯æ„å»ºä¸€ä¸ªå¯é åœ°äº¤ä»˜é«˜è´¨é‡è½¯ä»¶çš„ç³»ç»Ÿï¼ŒåŒæ—¶ä½¿å›¢é˜Ÿèƒ½å¤Ÿå¿«é€Ÿç§»åŠ¨å’Œåˆ›æ–°ã€‚é€šè¿‡æ·±æ€ç†Ÿè™‘çš„è®¾è®¡å’ŒæŒç»­æ”¹è¿›ï¼Œä½ çš„ CI pipeline æˆä¸ºç«äº‰ä¼˜åŠ¿è€Œéç“¶é¢ˆã€‚

!!!quote "ğŸ’­ æœ€åçš„æƒ³æ³•"
    ã€Œæœ€å¥½çš„ CI pipeline æ˜¯ä½ ä¸ä¼šæ³¨æ„åˆ°çš„â€”â€”å®ƒåªæ˜¯æ¯æ¬¡éƒ½èƒ½è¿ä½œï¼Œè®©å¼€å‘äººå‘˜ä¸“æ³¨äºæ„å»ºä¼˜ç§€çš„è½¯ä»¶ï¼Œè€Œä¸æ˜¯ä¸å·¥å…·ææ–—ã€‚ã€
